# 시험 분석 보고서 대시보드 요구사항

## 개요

지정된 폴더에 업로드된 시험 분석 엑셀 파일을 자동으로 분석하고, 그 결과를 사용자가 직관적으로 파악할 수 있는 인터랙티브 대시보드를 제공한다. 파일 중심의 워크플로우(File-Centric)와 통합된 인터페이스(Interactive Workspace)를 통해 하나의 화면에서 파일 목록 탐색, 데이터 분석, 상세 정보 확인, 관련 문서(성적서, 규격) 접근까지 모두 가능하도록 한다.

## 요구사항

### 1. 사이드바 탐색 패널 시스템

**사용자 스토리:** 실험실 관리자로서, 사이드바에서 분석할 파일을 선택하고 메뉴를 통해 다양한 기능에 접근할 수 있기를 원한다.

#### 수용 기준
1. WHEN 사용자가 시스템에 접속 THEN 좌측에 사이드바 탐색 패널이 표시되어야 한다
2. WHEN 사이드바가 표시 THEN 다음 섹션들이 포함되어야 한다:
   - 현재 조회 파일 목록 (채팅 목록 형태)
   - 메인 메뉴 (처리 대기, 시험성적서, 규격)
3. WHEN 파일 목록에서 파일을 클릭 THEN 메인 콘텐츠 영역이 해당 파일의 분석 내용으로 즉시 전환되어야 한다
4. WHEN 현재 활성화된 파일이 있 THEN 해당 파일이 시각적으로 강조 표시되어야 한다
5. WHEN 메뉴 항목을 클릭 THEN 해당 페이지로 이동해야 한다:
   - 처리 대기 파일: 미분석 파일 목록 페이지
   - 시험성적서 목록: 생성된 성적서 관리 페이지
   - 규격 목록: 시험 규격 문서 관리 페이지

### 2. 동적 메인 대시보드 시스템

**사용자 스토리:** 분석 담당자로서, 선택한 파일에 따라 동적으로 변경되는 분석 대시보드를 통해 데이터를 확인하고 싶다.

#### 수용 기준
1. WHEN 파일이 선택 THEN 메인 콘텐츠 영역의 제목이 "[파일명] 분석 보고서 대시보드" 형식으로 동적 변경되어야 한다
2. WHEN 대시보드가 표시 THEN 우측 상단에 "시험성적서 미리보기" 버튼이 배치되어야 한다
3. WHEN 분석이 완료 THEN 다음 4단계 구성으로 정보가 표시되어야 한다:
   - B-1: 핵심 요약 (KPI 카드) - 총 시험 항목 수, 부적합 항목 수, 부적합 비율
   - B-2: 부적합 통계 (시각화 차트) - 도넛 차트와 수평 막대 차트
   - B-3: 데이터 목록 (인터랙티브 테이블) - 정렬/필터링 가능
   - B-4: 상세 정보 패널 - 선택된 항목의 상세 정보
4. WHEN KPI 카드가 표시 THEN 각 카드는 그림자와 둥근 모서리의 모던 디자인이어야 한다
5. WHEN 차트가 표시 THEN 그라데이션 색상과 부드러운 애니메이션 효과가 적용되어야 한다

### 3. 인터랙티브 데이터 테이블 시스템

**사용자 스토리:** 데이터 분석가로서, 시험 데이터를 테이블에서 확인하고 특정 행을 선택하여 상세 정보를 볼 수 있기를 원한다.

#### 수용 기준
1. WHEN 데이터 테이블이 표시 THEN 다음 컬럼들이 포함되어야 한다:
   - 시료명, 시험항목, 결과, 판정
2. WHEN 테이블이 렌더링 THEN 모든 컬럼 헤더에 정렬 기능이 제공되어야 한다
3. WHEN 부적합 항목이 있 THEN 해당 행의 배경색이 빨간색으로 강조되어야 한다
4. WHEN 사용자가 테이블 행을 클릭 THEN 해당 행이 파란색 테두리로 선택 표시되어야 한다
5. WHEN 행이 선택 THEN 우측 상세 정보 패널의 내용이 즉시 업데이트되어야 한다
6. WHEN 테이블 상단에 검색 기능이 제공 THEN 실시간으로 필터링이 적용되어야 한다

### 4. 상세 정보 패널 및 규격 문서 연동

**사용자 스토리:** 시험 담당자로서, 선택한 시료의 상세 정보와 관련 규격 문서를 확인할 수 있기를 원한다.

#### 수용 기준
1. WHEN 테이블에서 행이 선택 THEN 상세 정보 패널에 다음 정보가 표시되어야 한다:
   - D-1: 시험 규격 정보 (시험 항목, 기준값, 관련 규격)
   - D-2: 선택 시료 상세 정보 (시료 번호, 시료명, 채취일, 분석자)
2. WHEN 관련 규격 텍스트가 표시 THEN 밑줄과 색상 변경으로 클릭 가능한 링크처럼 디자인되어야 한다
3. WHEN 규격 링크를 클릭 THEN 화면 하단에서 바텀 시트가 부드럽게 슬라이드되어 올라와야 한다
4. WHEN 바텀 시트가 표시 THEN 다음 요소들이 포함되어야 한다:
   - 규격 문서 내용 미리보기
   - 상단의 '규격 파일 다운로드' 버튼
   - 닫기 버튼
5. WHEN 바텀 시트 외부를 클릭하거나 닫기 버튼 클릭 THEN 바텀 시트가 부드럽게 사라져야 한다

### 5. 시험성적서 미리보기 및 생성

**사용자 스토리:** 시험 담당자로서, 현재 보고 있는 데이터를 기반으로 시험성적서를 미리보고 PDF로 저장할 수 있기를 원한다.

#### 수용 기준
1. WHEN "시험성적서 미리보기" 버튼을 클릭 THEN 모달 팝업이 화면 중앙에 표시되어야 한다
2. WHEN 미리보기 모달이 표시 THEN 다음 요소들이 포함되어야 한다:
   - 현재 데이터 기반으로 생성된 시험성적서 미리보기
   - 하단의 '인쇄' 및 'PDF로 저장' 버튼
   - 우측 상단의 닫기 버튼
3. WHEN 성적서가 생성 THEN 원본 형식과 동일한 레이아웃이 유지되어야 한다
4. WHEN 기준 초과 항목이 존재 THEN 해당 항목이 자동으로 하이라이트되어야 한다
5. WHEN PDF 저장 버튼을 클릭 THEN 표준 형식의 성적서가 PDF로 다운로드되어야 한다

### 6. 파일 자동화 프로세스

**사용자 스토리:** 시스템 관리자로서, 지정된 폴더의 파일들이 자동으로 인덱싱되고 분석되기를 원한다.

#### 수용 기준
1. WHEN 시스템이 시작 THEN '처리 대기' 폴더를 주기적으로 스캔해야 한다
2. WHEN 새로운 엑셀 파일이 감지 THEN 자동으로 데이터베이스에 인덱싱되어야 한다
3. WHEN 파일이 인덱싱 THEN 자동으로 데이터 분석이 수행되어야 한다
4. WHEN '시험 규격' 폴더에 PDF 파일이 추가 THEN 파일명 기반으로 자동 인덱싱되어야 한다
5. WHEN 규격 파일이 인덱싱 THEN 상세 정보 패널에서 해당 파일과 연결되어야 한다
6. WHEN 파일 처리가 완료 THEN 사이드바의 파일 목록에 자동으로 추가되어야 한다

### 7. 통합 분석 대시보드 시스템

**사용자 스토리:** 품질관리 담당자로서, 지정한 기간 동안 누적된 모든 품질 데이터를 종합적으로 분석하여 시간의 흐름에 따른 품질 동향과 패턴을 파악하고 싶다.

#### 수용 기준
1. WHEN 사이드바 메뉴가 표시 THEN 기존 메뉴 하단에 구분선과 함께 '통합 분석' 메뉴가 추가되어야 한다
2. WHEN '통합 분석' 메뉴를 클릭 THEN 통합 분석 대시보드 페이지로 이동해야 한다
3. WHEN 통합 분석 대시보드가 표시 THEN 페이지 상단에 기간 설정 컨트롤러가 배치되어야 한다
4. WHEN 기간 설정 컨트롤러가 표시 THEN 다음 요소들이 포함되어야 한다:
   - 사전 정의된 기간 버튼: '최근 3개월', '최근 6개월', '최근 1년', '1분기', '2분기', '3분기', '4분기'
   - 사용자 지정 기간: 시작일과 종료일 Date-picker
5. WHEN 기간이 선택 THEN 해당 기간의 데이터가 자동으로 분석되고 시각화되어야 한다

### 8. 통합 분석 데이터 시각화

**사용자 스토리:** 데이터 분석가로서, 기간별 품질 데이터를 다양한 시각화 방법으로 확인하여 품질 동향과 패턴을 파악하고 싶다.

#### 수용 기준
1. WHEN 통합 분석 데이터가 표시 THEN 다음 4가지 KPI 카드가 표시되어야 한다:
   - 기간 내 총 시험 건수
   - 평균 부적합률
   - 최다 부적합 항목
   - 품질 점수 추이 (지난 분기 대비)
2. WHEN 핵심 동향 라인 차트가 표시 THEN 다음 기능이 제공되어야 한다:
   - Y축: 부적합률(%), 특정 시험 항목의 평균값
   - X축: 시간 (일/주/월 단위)
   - 여러 시험 항목 동시 비교 기능
3. WHEN 월별 품질 현황 스택 바 차트가 표시 THEN 다음 정보가 포함되어야 한다:
   - 월별 총 시험 건수
   - 정상/부적합 비율을 색상으로 구분
   - 각 막대는 월(Month)을 의미
4. WHEN 품질 달력 히트맵이 표시 THEN 다음 기능이 제공되어야 한다:
   - 일별 부적합 발생 빈도를 색상 농도로 표현
   - 달력 형태의 시각화
   - 주기적 패턴 발견 지원
5. WHEN 모든 차트가 표시 THEN 선택된 기간에 따라 동적으로 업데이트되어야 한다

### 9. 통합 분석 데이터 처리

**사용자 스토리:** 시스템 관리자로서, 여러 파일의 데이터를 통합하여 기간별 분석이 가능하도록 데이터를 처리하고 관리하고 싶다.

#### 수용 기준
1. WHEN 통합 분석이 요청 THEN 지정된 기간 내의 모든 파일 데이터가 통합되어야 한다
2. WHEN 데이터 통합이 수행 THEN 중복 데이터가 제거되고 일관된 형식으로 정규화되어야 한다
3. WHEN 기간별 집계가 수행 THEN 일별, 주별, 월별 단위로 데이터가 그룹화되어야 한다
4. WHEN 통계 계산이 수행 THEN 다음 지표들이 계산되어야 한다:
   - 기간별 부적합률 변화
   - 시험 항목별 평균값 추이
   - 부적합 항목 발생 빈도
   - 품질 점수 변화율
5. WHEN 데이터 처리가 완료 THEN 결과가 캐시되어 동일한 기간 재조회 시 빠르게 응답해야 한다

## 기술적 제약사항

1. **파일 형식**: Excel (.xlsx, .xls) 파일 지원
2. **브라우저 호환성**: Chrome, Firefox, Safari, Edge 최신 버전 지원
3. **파일 크기 제한**: 최대 50MB까지 업로드 가능
4. **동시 사용자**: 최대 20명 동시 접속 지원
5. **데이터 보안**: 업로드된 파일은 24시간 후 자동 삭제

## 성공 기준

1. **정확성**: 기준값 초과 판정 정확도 99% 이상
2. **성능**: 1000행 데이터 처리 시간 10초 이내
3. **사용성**: 신규 사용자 학습 시간 5분 이내
4. **안정성**: 시스템 가동률 99% 이상