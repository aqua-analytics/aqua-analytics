# 🏢 Aqua-Analytics 사내 로컬 서버 구축 가이드

## 📋 개요
사내 네트워크에서 Aqua-Analytics를 로컬 서버로 운영하여 모든 직원이 접속할 수 있도록 구축하는 가이드입니다.

## 🎯 구축 목표
- **서버 PC**: Windows 환경에서 Streamlit 서버 실행
- **사내 접속**: `http://서버IP:8501`로 모든 PC에서 접속
- **데이터 영구 저장**: 업로드/분석 데이터 완전 보존
- **사용자별 데이터**: 각 사용자의 분석 이력 관리

## 🚀 설치 단계

### 1단계: 서버 PC 준비
```
요구사항:
- Windows 10/11
- Python 3.9 이상
- 최소 4GB RAM, 10GB 저장공간
- 사내 네트워크 연결
```

### 2단계: 소프트웨어 설치
1. **Python 설치**
   - https://python.org 에서 Python 3.9+ 다운로드
   - "Add Python to PATH" 체크 필수
   - 설치 완료 후 재부팅

2. **Aqua-Analytics 설치**
   ```cmd
   # 1. 프로젝트 폴더로 이동
   cd C:\aqua-analytics
   
   # 2. 설치 스크립트 실행
   setup_local_server.bat
   ```

### 3단계: 서버 시작
```cmd
# 서버 시작
start_server.bat

# 서버 중지
stop_server.bat
```

### 4단계: 네트워크 설정

#### Windows 방화벽 설정
1. **Windows 방화벽 열기**
   - 시작 → 설정 → 네트워크 및 인터넷 → Windows 방화벽
   
2. **인바운드 규칙 추가**
   - 고급 설정 → 인바운드 규칙 → 새 규칙
   - 포트 → TCP → 특정 로컬 포트 → 8501
   - 연결 허용 → 모든 프로필 → 이름: "Aqua-Analytics"

#### 고정 IP 설정 (권장)
1. **네트워크 어댑터 설정**
   - 제어판 → 네트워크 및 인터넷 → 네트워크 연결
   - 이더넷 → 속성 → IPv4 → 속성
   
2. **고정 IP 설정**
   ```
   IP 주소: 192.168.1.100 (예시)
   서브넷 마스크: 255.255.255.0
   기본 게이트웨이: 192.168.1.1
   DNS: 8.8.8.8, 8.8.4.4
   ```

## 🌐 접속 방법

### 서버 PC에서
- http://localhost:8501

### 사내 다른 PC에서
- http://192.168.1.100:8501 (서버 IP)
- http://서버컴퓨터명:8501

## 🔧 고급 설정

### 자동 시작 설정
1. **Windows 작업 스케줄러**
   - 시작 → 작업 스케줄러
   - 기본 작업 만들기
   - 이름: "Aqua-Analytics 서버"
   - 트리거: 시스템 시작 시
   - 작업: start_server.bat 실행

### 도메인 이름 설정 (선택사항)
1. **hosts 파일 수정** (각 PC에서)
   ```
   # C:\Windows\System32\drivers\etc\hosts
   192.168.1.100    aqua-analytics.local
   ```
   
2. **접속 주소**
   - http://aqua-analytics.local:8501

## 📊 사용자 가이드

### 관리자 (서버 PC 담당자)
1. **서버 상태 확인**
   - 브라우저에서 http://localhost:8501 접속
   - 정상 작동 확인

2. **데이터 백업**
   - `aqua_analytics_data` 폴더 정기 백업
   - 중요 분석 결과 별도 보관

3. **사용자 지원**
   - 접속 문제 해결
   - 데이터 복구 지원

### 일반 사용자
1. **접속**
   - 브라우저에서 http://서버IP:8501 접속
   
2. **파일 업로드**
   - 엑셀 파일 업로드 및 분석
   - 결과 다운로드

3. **데이터 관리**
   - 분석 이력 확인
   - 리포트 생성 및 저장

## 🛠️ 문제 해결

### 접속 안됨
1. **서버 상태 확인**
   ```cmd
   netstat -an | findstr :8501
   ```

2. **방화벽 확인**
   - Windows 방화벽 설정 재확인
   - 안티바이러스 소프트웨어 예외 설정

3. **네트워크 확인**
   ```cmd
   ping 서버IP
   telnet 서버IP 8501
   ```

### 서버 느림
1. **리소스 확인**
   - 작업 관리자에서 CPU/메모리 사용률 확인
   - 필요시 서버 PC 업그레이드

2. **데이터 정리**
   - 오래된 분석 데이터 정리
   - 로그 파일 삭제

### 데이터 손실
1. **백업 복구**
   - `aqua_analytics_data` 폴더 복원
   
2. **데이터베이스 복구**
   - `analysis_database.json.backup` 파일 활용

## 📞 지원

문제 발생 시 연락처:
- IT 담당자: [연락처]
- 시스템 관리자: [연락처]

---

© 2024 Aqua-Analytics | 사내 로컬 서버 버전